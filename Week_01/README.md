学习笔记
# 一、数组 

数组的定义：数组（ArrayList）是一种线性表数据结构。它用一组连续的内存空间，来存储一组具有相同类型的数据。

**优点**

- 支持随机访问，主要是因为他是连续的内存空间和相同的数据类型
- 时间复杂度O(1)

**缺点**

- 如果在数组末尾插入和删除数据，那就不需要移动数据，时间复杂度为O(1)。但如果在数组开头插入或者删除数据则复杂度为O(n)
- 每次插入或删除都会导致大量数据搬迁工作，System.arraycopy方法
- 需要足够的连续内存空间。



正常情况下将数据插入头节点时间复杂度为O(n)，可以将时间复杂度优化到O(1)。采用到方式是申请稍大一些大内存空间，然后在数组最开始部分预留一部分空间，然后prepend的操作则是把头下标前移一个位置即可。



**数组支持动态扩容，数组扩容机制如下**

首先数组初始大小为10，当第 11 个数据需要存储到数组中时，它会将空间自动扩容为 1.5 倍大小oldCapacity + (oldCapacity >> 1)。将原来的数据复制过去，然后再将新的数据插入。

# 二、链表

链表的定义：链表(LinkedList)和数组相反，它不需要一组连续的内存空间，它通过“指针”将一组零散的内存块串联起来使用。

链表的组成主要包括，头指针（Head）、尾指针（Tail）、以及Node对象。

**优点**

- 插入、删除操作的时间复杂度O(1)，只需改变相邻节点的指针即可。

**缺点**

- 不支持随机访问，需要从头开始遍历，时间复杂度为O(n)。
- 链表中的每个结点都需要消耗额外的存储空间去存储一份指向下一个结点的指针，所以内存消耗会翻倍
- 由于不需要一组连续的内存空间，对链表进行频繁对删除、插入操作，会造成内存碎片化

```
private static class Node<E> {
        //存储的具体内容
        E item;
        //指向下一个指针 
        Node<E> next;
        //指向上一个指针
        Node<E> prev;

        Node(Node<E> prev, E element, Node<E> next) {
            this.item = element;
            this.next = next;
            this.prev = prev;
        }
    }
```

# 三、跳表

数组和链表各有优势，那么有什么办法可以结合它们的优势，跳表就此诞生，跳表是由William Pugh在1990年发明的。

跳表定义：它是一种用户维护有序元素的数据结构，它维护了一个多层级的链表，且第i+1层链表中的节点是第i层链表中的节点的子集。

注：跳表中的元素必须是有序的，否则无法使用跳表。

![image.png](https://cdn.nlark.com/yuque/0/2021/png/1728458/1611640967307-e8a5595d-18b9-46fb-baa1-3a220310e32f.png)

**优点**

- 查询时间复杂度为O(logn)

**缺点**

- 在对跳表做增加和删除操作时，需同步要维护索引

使用场景

Redis中的SortedSet底层实现则是使用了跳表。


# 四、栈、队列

## 2.1.Stack栈定义

“LIFO“，后进先出，添加和删除时间复杂度为O(1)，查询O(n)

![image.png](https://cdn.nlark.com/yuque/0/2021/png/1728458/1612587760647-d82e1320-24d7-461d-8af7-a946c060c650.png)



常用方法

| 方法           | 返回类型 | 备注                                   |
| -------------- | -------- | -------------------------------------- |
| empty()        | boolean  | 判断栈内是否为空                       |
| peek()         | E        | 返回栈顶元素，不对栈顶元素进行任何修改 |
| pop()          | E        | 删除栈顶元素，并将栈顶元素返回         |
| push(E item)   | E        | 将元素放入栈顶                         |
| search(E item) | int      | 返回该元素下标值                       |

## 2.2.Queue队列定义

“FIFO”，先进新出，添加和删除时间复杂度为O(1)，查询O(n)

![image.png](https://cdn.nlark.com/yuque/0/2021/png/1728458/1612587768496-8c1e1b32-7136-498a-b974-250e8ec12886.png)

常用方法

| 方法       | 返回类型 | 备注                                           |
| ---------- | -------- | ---------------------------------------------- |
| empty()    | boolean  | 判断队列内是否为空                             |
| element()  | E        | 返回队列头部元素，但是不删除                   |
| offer(E e) | boolean  | 将元素插入队列中                               |
| peek()     | E        | 查询队列的头，如果队列为空，则返回null。       |
| poll()     | E        | 查询并删除队列的头，如果队列为空，则返回null。 |
| remove()   | E        | 查询并删除队列的头                             |

队列方法比较

|         | 以下方法会抛出异常 | 以下方法返回特殊值 | 备注                                                         |
| ------- | ------------------ | ------------------ | ------------------------------------------------------------ |
| Insert  | add(e)             | offer(e)           | 如果队列满了，调用add则提会抛出IllegalStateException异常，   |
| Remove  | remove()           | poll()             | 如果队列为空，调用remove则提会抛出NoSuchElementException异常， |
| Examine | element()          | peek()             | 如果队列为空，调用element则提会抛出NoSuchElementException异常， |

## 2.2.Deque双端队列

queue和stack的结合体，头和尾都可以进出。

![image.png](https://cdn.nlark.com/yuque/0/2021/png/1728458/1612587815422-55ecdb1f-eedd-4c6c-a132-4d71c352152d.png)
